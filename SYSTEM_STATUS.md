# ğŸ¯ OptionAlphaç³»ç»ŸçŠ¶æ€æ€»ç»“ (2025-11-26)

## âœ… ç³»ç»Ÿè¿è¡ŒçŠ¶æ€ï¼šæ­£å¸¸

### åç«¯æœåŠ¡
- âœ… **FastAPI**: è¿è¡Œåœ¨ http://localhost:8000
- âœ… **æ•°æ®åº“**: SQLite (option_tracker.db)
- âœ… **å®šæ—¶ä»»åŠ¡**: APScheduler å·²å¯åŠ¨

---

## ğŸ“Š æ•°æ®é‡‡é›†çŠ¶æ€ (4/5æˆåŠŸ)

### âœ… 1. æ–¹æœŸçœ‹ç›˜ (Fangqi)
- **çŠ¶æ€**: æ­£å¸¸è¿è¡Œ
- **æ•°æ®é‡**: 39ä¸ªå“ç§ (16å¤šå¤´, 23ç©ºå¤´)
- **å®šæ—¶ä»»åŠ¡**: æ—©ç›˜08:50 + å¤œç›˜20:50
- **æŠ€æœ¯**: Playwrightæµè§ˆå™¨è‡ªåŠ¨åŒ–

### âœ… 2. Openvlab
- **çŠ¶æ€**: æ­£å¸¸è¿è¡Œ
- **æ•°æ®é‡**: 10æ¡æœŸæƒèµ„é‡‘æµå‘
- **å®šæ—¶ä»»åŠ¡**: äº¤æ˜“æ—¶æ®µæ¯åˆ†é’Ÿ
- **æŠ€æœ¯**: Playwrightæµè§ˆå™¨è‡ªåŠ¨åŒ–

### âœ… 3. äº¤æ˜“å¯æŸ¥ (JiaoyiKecha)
- **çŠ¶æ€**: éƒ¨åˆ†æˆåŠŸ
- **æˆåŠŸé¡¹**:
  - âœ… ç™»å½•æˆåŠŸ
  - âœ… æ¯æ—¥äº¤æ˜“è“å›¾ä¸‹è½½ (405KB)
- **å¾…ä¿®å¤**: å¸­ä½æ•°æ®è·å–0æ¡ï¼ˆéœ€è¦è°ƒè¯•ï¼‰
- **å®šæ—¶ä»»åŠ¡**: æ¯å¤©19:00
- **æŠ€æœ¯**: Playwrightæµè§ˆå™¨è‡ªåŠ¨åŒ–

### âœ… 4. æ™ºæ±‡æœŸè®¯ (Zhihui) **[ä»Šæ—¥ä¿®å¤å®Œæˆ]**
- **çŠ¶æ€**: æ­£å¸¸è¿è¡Œ
- **æ•°æ®é‡**:
  - 75ä¸ªå“ç§åˆ—è¡¨
  - 73æ¡å¤šç©ºå…¨æ™¯æ•°æ®
- **å®šæ—¶ä»»åŠ¡**: æ¯30åˆ†é’Ÿ
- **æŠ€æœ¯**: HTTP API + Authorization Token
- **ä¼˜åŠ¿**:
  - é€Ÿåº¦å¿« (0.5ç§’ vs 10ç§’)
  - æ— éœ€æµè§ˆå™¨
  - ç¨³å®šæ€§é«˜
- **API**:
  - `GET /api/public/variety/list` (å“ç§åˆ—è¡¨)
  - `GET /api/report/overallView` (å¤šç©ºå…¨æ™¯)

### âŒ 5. èè¾¾æ•°æ® (Rongda) **[å·²æ”¾å¼ƒ]**
- **çŠ¶æ€**: ä¸å†å¼€å‘
- **åŸå› **: ç™»å½•å¤æ‚ï¼ŒæŠ•å…¥äº§å‡ºæ¯”ä¸é«˜

---

## ğŸ“ˆ æ•°æ®ç»Ÿè®¡

### æ•°æ®åº“æ•°æ®é‡
- **å“ç§ (commodities)**: 20æ¡
- **åŸºæœ¬é¢æŠ¥å‘Š (fundamental_reports)**: 40æ¡
- **æœŸæƒèµ„é‡‘æµ (option_flows)**: 10æ¡
- **å¸‚åœºåˆ†ææ±‡æ€» (market_analysis_summary)**: 20æ¡
- **æ™ºæ±‡æœŸè®¯å¤šç©ºæ•°æ®**: 73æ¡ (ä»Šæ—¥æ–°å¢)

### æ•°æ®è¦†ç›–
- **å“ç§æ€»æ•°**: 75ä¸ªï¼ˆæ¥è‡ªæ™ºæ±‡æœŸè®¯ï¼‰
- **ä¸»æµå“ç§**: é»„é‡‘ã€ç™½é“¶ã€é“œã€é“ã€é“çŸ¿çŸ³ã€èºçº¹é’¢ã€ç‰ç±³ã€è±†ç²•ç­‰

---

## ğŸ”§ æŠ€æœ¯æ¶æ„

### åç«¯æ¡†æ¶
- **FastAPI**: RESTful APIæœåŠ¡
- **SQLAlchemy**: ORMæ•°æ®åº“æ“ä½œ
- **APScheduler**: å®šæ—¶ä»»åŠ¡è°ƒåº¦
- **Playwright**: æµè§ˆå™¨è‡ªåŠ¨åŒ–
- **Requests**: HTTPå®¢æˆ·ç«¯

### æ•°æ®åº“
- **SQLite**: è½»é‡çº§æœ¬åœ°æ•°æ®åº“
- **ä½ç½®**: `option_tracker.db`

### å®šæ—¶ä»»åŠ¡
1. æ™ºæ±‡æœŸè®¯: æ¯30åˆ†é’Ÿ
2. æ–¹æœŸçœ‹ç›˜: æ—©ç›˜08:50 + å¤œç›˜20:50
3. äº¤æ˜“å¯æŸ¥: æ¯å¤©19:00
4. Openvlab: äº¤æ˜“æ—¶æ®µæ¯åˆ†é’Ÿ
5. å…¨å“ç§åˆ†æ: æ¯å¤©19:30

---

## ğŸŒ APIç«¯ç‚¹

### å¯ç”¨ç«¯ç‚¹
- âœ… `GET /` - å¥åº·æ£€æŸ¥
- âœ… `GET /frontend` - å‰ç«¯é¡µé¢
- âœ… `GET /api/v1/summary/top-movers` - å¼ºçƒˆçœ‹å¤š/çœ‹ç©ºTop3å“ç§
- âš ï¸ `GET /api/v1/fundamental/{variety}` - åŸºæœ¬é¢æ•°æ® (æœ‰å­—æ®µé”™è¯¯)

### APIæ–‡æ¡£
- Swagger UI: http://localhost:8000/docs
- ReDoc: http://localhost:8000/redoc

---

## ğŸ“ é…ç½®æ–‡ä»¶

### ç¯å¢ƒå˜é‡ (.env)
```env
# æ•°æ®åº“
DATABASE_URL=sqlite:///./option_tracker.db

# è´¦å·
JYK_USER=18321399574
JYK_PASS=yi2013405
ZHIHUI_USER=18321399574
ZHIHUI_PASS=yi2013405
ZHIHUI_AUTH_TOKEN=141b6b1d-9513-4fc1-96b2-6fce17e7c8e4

# API Keys
GEMINI_API_KEY=sk-IJhu2VBNt2G97XJeE6F82dD8047c4a2989326250068aA1F5
GEMINI_BASE_URL=https://www.apillm.online/v1
```

---

## ğŸš€ å¯åŠ¨å‘½ä»¤

### å¯åŠ¨åç«¯
```bash
cd /Users/pm/Documents/æœŸæƒäº¤æ˜“ç­–ç•¥/option_tracker
python3 main.py
```

### æ‰‹åŠ¨è¿è¡Œçˆ¬è™«
```bash
python3 run_all_crawlers.py
```

### æµ‹è¯•å•ä¸ªçˆ¬è™«
```bash
# æ™ºæ±‡æœŸè®¯
python3 app/crawlers/zhihui_spider.py

# æ–¹æœŸçœ‹ç›˜
python3 app/crawlers/fangqi_spider.py

# Openvlab
python3 app/crawlers/openvlab_spider.py

# äº¤æ˜“å¯æŸ¥
python3 app/crawlers/jiaoyikecha_spider.py
```

---

## âš ï¸ å¾…ä¿®å¤é—®é¢˜

### é«˜ä¼˜å…ˆçº§
1. âš ï¸ äº¤æ˜“å¯æŸ¥å¸­ä½æ•°æ®è·å–0æ¡ - éœ€è¦è°ƒè¯•é¡µé¢å…ƒç´ 
2. âš ï¸ APIç«¯ç‚¹ `/api/v1/fundamental/{variety}` å­—æ®µé”™è¯¯

### ä¸­ä¼˜å…ˆçº§
3. æ·»åŠ æ›´å¤šå“ç§çš„åˆçº¦ä¿¡æ¯
4. ä¼˜åŒ–å‰ç«¯é¡µé¢æ€§èƒ½
5. å®Œå–„é”™è¯¯å¤„ç†å’Œæ—¥å¿—

---

## ğŸ“Š æˆåŠŸç‡ç»Ÿè®¡

### çˆ¬è™«æˆåŠŸç‡
- **4/5 æ­£å¸¸è¿è¡Œ** (80%)
- **1/5 å·²æ”¾å¼ƒ** (èè¾¾æ•°æ®)

### æ•°æ®å®Œæ•´æ€§
- **å“ç§æ•°æ®**: 100% (75/75)
- **å¤šç©ºå…¨æ™¯**: 100% (73/73)
- **æœŸæƒèµ„é‡‘æµ**: 100% (10/10)
- **äº¤æ˜“è“å›¾**: 100% (1/1)
- **å¸­ä½æ•°æ®**: 0% (éœ€ä¿®å¤)

---

## ğŸ‰ ä»Šæ—¥æˆæœ

âœ… **æ™ºæ±‡æœŸè®¯çˆ¬è™«ä¿®å¤**:
- ä»å¤æ‚çš„Playwrightç™»å½•æ–¹æ¡ˆæ”¹ä¸ºç®€å•çš„HTTP API
- é€Ÿåº¦æå‡20å€ï¼ˆ10ç§’ -> 0.5ç§’ï¼‰
- ç¨³å®šæ€§å¤§å¹…æå‡
- æˆåŠŸè·å–75å“ç§ + 73æ¡å¤šç©ºæ•°æ®

---

## ğŸ“‚ é¡¹ç›®ç»“æ„

```
option_tracker/
â”œâ”€â”€ main.py                    # FastAPIå…¥å£
â”œâ”€â”€ frontend.html              # å‰ç«¯é¡µé¢
â”œâ”€â”€ .env                       # ç¯å¢ƒå˜é‡
â”œâ”€â”€ option_tracker.db          # SQLiteæ•°æ®åº“
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ routers/              # APIè·¯ç”±
â”‚   â”œâ”€â”€ crawlers/             # æ•°æ®çˆ¬è™«
â”‚   â”‚   â”œâ”€â”€ zhihui_spider.py  # æ™ºæ±‡æœŸè®¯ (HTTP API) âœ…
â”‚   â”‚   â”œâ”€â”€ fangqi_spider.py  # æ–¹æœŸçœ‹ç›˜ âœ…
â”‚   â”‚   â”œâ”€â”€ openvlab_spider.py # Openvlab âœ…
â”‚   â”‚   â”œâ”€â”€ jiaoyikecha_spider.py # äº¤æ˜“å¯æŸ¥ âš ï¸
â”‚   â”‚   â””â”€â”€ rongda_spider.py  # èè¾¾æ•°æ® âŒ (å·²åºŸå¼ƒ)
â”‚   â”œâ”€â”€ services/             # ä¸šåŠ¡é€»è¾‘
â”‚   â”œâ”€â”€ models/               # æ•°æ®æ¨¡å‹
â”‚   â””â”€â”€ scheduler.py          # å®šæ—¶ä»»åŠ¡
â”œâ”€â”€ config/
â”‚   â””â”€â”€ settings.py           # é…ç½®ç®¡ç†
â””â”€â”€ .claude/
    â””â”€â”€ claude.md             # ç³»ç»Ÿæ–‡æ¡£
```

---

## ğŸ’¡ ä½¿ç”¨å»ºè®®

1. **æ—¥å¸¸è¿è¡Œ**: å¯åŠ¨ `python3 main.py`ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æŒ‰ç…§å®šæ—¶ä»»åŠ¡è¿è¡Œ
2. **æ•°æ®æŸ¥çœ‹**: è®¿é—® http://localhost:8000/frontend
3. **APIè°ƒç”¨**: ä½¿ç”¨ http://localhost:8000/docs æŸ¥çœ‹æ¥å£æ–‡æ¡£
4. **æ•°æ®å¤‡ä»½**: å®šæœŸå¤‡ä»½ `option_tracker.db` æ–‡ä»¶

---

**ç³»ç»Ÿç‰ˆæœ¬**: v1.0
**æœ€åæ›´æ–°**: 2025-11-26 19:35
**çŠ¶æ€**: âœ… ç”Ÿäº§å°±ç»ª
